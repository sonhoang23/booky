{"version":3,"sources":["webpack:///src/app/features/customer/components/customer-body/modules/shop/component/shop-detail/shop-detail.component.ts","webpack:///src/app/features/customer/components/customer-body/modules/shop/component/shop-detail/shop-detail.component.html","webpack:///src/app/features/customer/components/customer-body/modules/shop/component/shop/shop.component.html","webpack:///src/app/features/customer/components/customer-body/modules/shop/shop-routing.module.ts","webpack:///src/app/features/customer/components/customer-body/modules/shop/shop.module.ts","webpack:///src/app/core/services/customer/shop/shop.service.ts","webpack:///src/app/core/utils/URL/customer-url/customer-shop/customer-url-shop.ts","webpack:///src/app/features/customer/components/customer-body/modules/shop/component/shop-detail/shop-detail.component.less","webpack:///src/app/features/customer/components/customer-body/modules/shop/component/shop/shop.component.ts","webpack:///src/app/features/customer/components/customer-body/modules/shop/component/shop/shop.component.less"],"names":["ShopDetailComponent","destroy$","shopService","router","route","store","appTranslateService","notificationService","sortProductService","appErrorHandler","spinner","isLoading","host","apiUrl","updateFollowShopLoading","shopResponse","isfollower","apiResult","paramMap","subscribe","param","get","shopId","getShop","checkFollowShop","pipe","result","updateFollow","id","resultApi","isSuccessed","message","showSuccessNotification","instant","resultObj","status","follower","followerCount","showErrorNotification","error","handleErrorWithNoti","navigate","queryParams","returnUrl","url","console","log","getQuery","value","pageIndex","page","undefined","pageSize","sortby","sortBy","order","statusCode","pagedResult","subjectSubmitLoadingHaveData$","next","isSubmitted","selector","template","routes","path","component","data","title","breadcrumb","ShopRoutingModule","imports","forChild","exports","ShopModule","declarations","ShopService","http","customerUrlShopString","languageCode","request","getCheckFollowShop","post","postUpdateFollow","providedIn","CustomerUrlShop","params","set","toString","customerUrl","ShopComponent"],"mappings":"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","file":"components-customer-body-modules-shop-shop-module-es5.js","sourcesContent":["import {SpinnerService} from 'src/app/core/services/comon-services/spinner/spinner.service';\r\nimport {CustomerAppState} from 'src/app/core/store/customer/customer-app.state';\r\nimport {concatMap, takeUntil} from 'rxjs/operators';\r\nimport {DestroyService} from '../../../../../../../../core/services/comon-services/destroy-service/destroy.service';\r\nimport {Component, OnInit} from '@angular/core';\r\nimport {ShopService} from 'src/app/core/services/customer/shop/shop.service';\r\nimport {ShopResponse} from 'src/app/core/models/customer/shop/response/shop-response.viewmodel';\r\nimport {environment} from 'src/environments/environment';\r\nimport {ApiResult} from 'src/app/core/models/common/ApiResult';\r\nimport {PagedResult} from 'src/app/core/models/common/page/PagedResult';\r\nimport {ProductShowHomePageRespond} from 'src/app/core/models/product/respond/ProductShowHomePageRespond';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {select, Store} from '@ngrx/store';\r\nimport {customerIsAuthenticatedLoginStateSelector} from 'src/app/core/store/customer/login/customer-login.selector';\r\nimport {TranslateService} from '@ngx-translate/core';\r\nimport {NotificationService} from 'src/app/core/notification/notifications/customer/notification.service';\r\nimport {SortProductService} from 'src/app/core/services/comon-services/sort-product/sort-product.service';\r\nimport {AppErrorHandler} from 'src/app/core/error-handler/app-error-handler.service';\r\n//3 trạng thái: chưa login => hiển thị nút xanh, cho phép follow => click => login\r\n// đã login => nếu trả về đã follow => hiển thị nút xám và cho unfollow\r\n// đã login => nếu trả về chưa follow => hiển thị nút xanh, cho phép follow\r\n@Component({\r\n\tselector: 'app-shop-detail',\r\n\ttemplateUrl: './shop-detail.component.html',\r\n\tstyleUrls: ['./shop-detail.component.less']\r\n})\r\nexport class ShopDetailComponent implements OnInit {\r\n\tisLoading = true; //skelton\r\n\tisfollower: boolean; //check user have followed to display button\r\n\tshopId: number; //shopId that user want to take infor\r\n\tshopResponse: ShopResponse;\r\n\thost: string = environment.apiUrl;\r\n\tupdateFollowShopLoading: boolean = false;\r\n\tapiResult: ApiResult<PagedResult<ProductShowHomePageRespond>>;\r\n\tconstructor(\r\n\t\tprivate destroy$: DestroyService,\r\n\t\tprivate shopService: ShopService,\r\n\t\tpublic router: Router,\r\n\t\tprivate route: ActivatedRoute,\r\n\t\tprivate store: Store<CustomerAppState>,\r\n\t\tprivate appTranslateService: TranslateService,\r\n\t\tprivate notificationService: NotificationService,\r\n\t\tprivate sortProductService: SortProductService,\r\n\t\tprivate appErrorHandler: AppErrorHandler,\r\n\t\tprivate spinner: SpinnerService,\r\n\t\r\n\t) {\r\n\t\tthis.shopResponse = {} as ShopResponse;\r\n\t\tthis.isfollower = false;\r\n\t\tthis.apiResult = {} as ApiResult<PagedResult<ProductShowHomePageRespond>>;\r\n\t}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.isLoading = true; //skelton\r\n\t\tthis.route.paramMap.subscribe((param) => {\r\n\t\t\tif (param.get('shopId')) {\r\n\t\t\t\tthis.shopId = +param.get('shopId');\r\n\t\t\t\tthis.getShop();\r\n\t\t\t\tthis.checkFollowShop(this.shopId);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tchangeFollow() {\r\n\t\tthis.updateFollowShopLoading = true;\r\n\t\tthis.store.pipe(takeUntil(this.destroy$), select(customerIsAuthenticatedLoginStateSelector)).subscribe(\r\n\t\t\t(result) => {\r\n\t\t\t\tif (result) {\r\n\t\t\t\t\tthis.shopService.updateFollow({id: this.shopId}).subscribe(\r\n\t\t\t\t\t\t(resultApi) => {\r\n\t\t\t\t\t\t\tif (resultApi.isSuccessed) {\r\n\t\t\t\t\t\t\t\t//console.log(result);\r\n\t\t\t\t\t\t\t\tif (resultApi.message) {\r\n\t\t\t\t\t\t\t\t\tthis.notificationService.showSuccessNotification(\r\n\t\t\t\t\t\t\t\t\t\tthis.appTranslateService.instant(resultApi.message)\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (resultApi.resultObj) {\r\n\t\t\t\t\t\t\t\t\tthis.isfollower = resultApi.resultObj.status;\r\n\t\t\t\t\t\t\t\t\tthis.shopResponse.follower = resultApi.resultObj.followerCount;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (resultApi.message) {\r\n\t\t\t\t\t\t\t\t\tthis.notificationService.showErrorNotification(\r\n\t\t\t\t\t\t\t\t\t\tthis.appTranslateService.instant(resultApi.message)\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.updateFollowShopLoading = false;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t(error) => {\r\n\t\t\t\t\t\t\tthis.appErrorHandler.handleErrorWithNoti(error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.router.navigate(['/login'], {queryParams: {returnUrl: this.router.url}});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t(error) => {\r\n\t\t\t\tthis.appErrorHandler.handleErrorWithNoti(error);\r\n\t\t\t},\r\n\t\t\t() => {}\r\n\t\t);\r\n\t\t//this.isfollower = true;\r\n\t}\r\n\tcheckFollowShop(shopId: number) {\r\n\t\tthis.shopService.checkFollowShop({id: shopId}).subscribe(\r\n\t\t\t(result) => {\r\n\t\t\t\tif (result.resultObj != null) {\r\n\t\t\t\t\tthis.isfollower = result.resultObj;\r\n\t\t\t\t\tconsole.log(result.resultObj);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.isfollower = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t(error) => {\r\n\t\t\t\tthis.appErrorHandler.handleErrorWithNoti(error);\r\n\t\t\t\tthis.isfollower = false;\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tgetShop() {\r\n\t\tthis.sortProductService\r\n\t\t\t.getQuery(this.route)\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this.destroy$),\r\n\t\t\t\tconcatMap((value) => {\r\n\t\t\t\t\tthis.isLoading = true;\r\n\t\t\t\t\treturn this.shopService.getShop({\r\n\t\t\t\t\t\tpageIndex: value.page == undefined ? 1 : value.page,\r\n\t\t\t\t\t\tpageSize: 10,\r\n\t\t\t\t\t\tsortby: value.sortBy,\r\n\t\t\t\t\t\torder: value.order,\r\n\t\t\t\t\t\tid: this.shopId\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\t.subscribe(\r\n\t\t\t\t(result) => {\r\n\t\t\t\t\tconsole.log(result);\r\n\t\t\t\t\tif (result.isSuccessed) {\r\n\t\t\t\t\t\tif (result.resultObj) {\r\n\t\t\t\t\t\t\tthis.apiResult = {\r\n\t\t\t\t\t\t\t\tstatusCode: result.statusCode,\r\n\t\t\t\t\t\t\t\tmessage: result.message,\r\n\t\t\t\t\t\t\t\tisSuccessed: result.isSuccessed,\r\n\t\t\t\t\t\t\t\tresultObj: result.resultObj.pagedResult\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis.shopResponse = result.resultObj;\r\n\t\t\t\t\t\t\tthis.isLoading = false;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.spinner.subjectSubmitLoadingHaveData$.next({isSubmitted: false});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (result.message) {\r\n\t\t\t\t\t\t\tthis.notificationService.showErrorNotification(result.message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.spinner.subjectSubmitLoadingHaveData$.next({isSubmitted: false});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t(error) => {\r\n\t\t\t\t\tthis.appErrorHandler.handleErrorWithNoti(error);\r\n\t\t\t\t\tthis.isfollower = false;\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t}\r\n}\r\n","export default \"<nz-skeleton *ngIf=\\\"isLoading; else completedLoading\\\" [nzLoading]=\\\"isLoading\\\" [nzActive]=\\\"true\\\"></nz-skeleton>\\n<ng-template #completedLoading>\\n\\t<nz-card nzTitle=\\\"Gian Hàng\\\">\\n\\t\\t<div class=\\\"grid wide\\\">\\n\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t<div class=\\\"col l-4\\\">\\n\\t\\t\\t\\t\\t<nz-card>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col l-4\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<nz-avatar\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tnzSrc=\\\"{{host}}/{{shopResponse.avatarImagePath}}\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t[nzSize]=\\\"96\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tnzIcon=\\\"user\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t></nz-avatar>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col l-8\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 nz-typography>{{shopResponse.shopName}}</h3>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"isfollower; else elseBlock\\\" class=\\\"row\\\" style=\\\"margin-top: 25px;\\\">\\n\\t\\t\\t\\t\\t\\t\\t<button [nzLoading]=\\\"updateFollowShopLoading\\\" (click)=\\\"changeFollow()\\\" nz-button nzType=\\\"default\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i nz-icon nzType=\\\"check\\\" nzTheme=\\\"outline\\\"></i>Đã Theo dõi\\n\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<ng-template #elseBlock\\n\\t\\t\\t\\t\\t\\t\\t><div class=\\\"row\\\" style=\\\"margin-top: 25px;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<button [nzLoading]=\\\"updateFollowShopLoading\\\" (click)=\\\"changeFollow()\\\" nz-button nzType=\\\"primary\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<i nz-icon nzType=\\\"plus\\\" nzTheme=\\\"outline\\\"></i>Theo dõi\\n\\t\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t\\t</div></ng-template\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t</nz-card>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"col l-o-1 l-7\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-top: 25px;\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col l-6\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-bottom: 1.6rem;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col l-1\\\" style=\\\"font-size: 1.6rem;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<h4 nz-icon [nzTheme]=\\\"'twotone'\\\" nzType=\\\"shop\\\" nzTheme=\\\"outline\\\"></h4>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col l-11\\\" style=\\\"display: flex;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row no-gutters\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h5 nz-typography>Sản Phẩm: {{shopResponse.productCount}}</h5>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-bottom: 1.6rem;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col l-1\\\" style=\\\"font-size: 1.6rem;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<h4 nz-icon nzType=\\\"usergroup-add\\\" nzTheme=\\\"outline\\\"></h4>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col l-11\\\" style=\\\"display: flex;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row no-gutters\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h5 nz-typography>Người Theo Dõi: {{shopResponse.follower}}</h5>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col l-6\\\"></div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</nz-card>\\n\\t<app-customer-index [apiResult]=\\\"apiResult\\\"></app-customer-index>\\n</ng-template>\\n\";","export default \"<p>shop works!</p>\\náa\";","import {ShopDetailComponent} from './component/shop-detail/shop-detail.component';\n\nimport {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\n\nconst routes: Routes = [\n\t{\n\t\tpath: ':shopId',\n\t\tcomponent: ShopDetailComponent,\n\t\tdata: {\n\t\t\ttitle: 'Customer-app.body.shop.title',\n\t\t\tbreadcrumb: 'Shop'\n\t\t}\n\t}\n];\n// const routes: Routes = [\n// \t{\n// \t\tpath: '',\n// \t\tcomponent: ShopDetailComponent,\n// \t\tchildren: [{path: ':shopId', component: ShopDetailComponent}]\n// \t}\n// ];\n\n@NgModule({\n\timports: [RouterModule.forChild(routes)],\n\texports: [RouterModule]\n})\nexport class ShopRoutingModule {}\n","import {NgZorroAntdModule} from './../../../../../../core/utils/ng-zorro-antd/ng-zorro-antd.module';\nimport {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\nimport {ShopRoutingModule} from './shop-routing.module';\nimport {ShopComponent} from './component/shop/shop.component';\nimport {ShopDetailComponent} from './component/shop-detail/shop-detail.component';\nimport {CustomerIndexModule} from '../../components/customer-index/customer-index.module';\n\n@NgModule({\n\tdeclarations: [ShopComponent, ShopDetailComponent],\n\timports: [CommonModule, ShopRoutingModule, NgZorroAntdModule, CustomerIndexModule]\n})\nexport class ShopModule {}\n","import {Observable} from 'rxjs';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {Injectable} from '@angular/core';\r\nimport {PagingRequestBase} from 'src/app/core/models/common/page/pagingrequest/PagingRequestBase';\r\nimport {ApiResult} from 'src/app/core/models/common/ApiResult';\r\nimport {ShopWithProductsResponse} from 'src/app/core/models/customer/shop/response/ShopWithProductsResponse.viewmodel';\r\nimport {RequestBase} from 'src/app/core/models/common/request/RequestBase';\r\nimport {ShopUpdateFollowResponse} from 'src/app/core/models/customer/shop/response/ShopUpdateResponse.viewmodel';\r\nimport {CustomerUrlShop} from 'src/app/core/utils/URL/customer-url/customer-shop/customer-url-shop';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class ShopService {\r\n\tlanguageCode = 'vn';\r\n\tconstructor(private http: HttpClient, private customerUrlShopString: CustomerUrlShop) {}\r\n\r\n\tgetShop(request: PagingRequestBase): Observable<ApiResult<ShopWithProductsResponse>> {\r\n\t\tconsole.log(request);\r\n\t\trequest.languageCode = this.languageCode;\r\n\t\treturn this.http.get<ApiResult<ShopWithProductsResponse>>(this.customerUrlShopString.getShop(request));\r\n\t}\r\n\tcheckFollowShop(request: RequestBase): Observable<ApiResult<boolean>> {\r\n\t\trequest.languageCode = this.languageCode;\r\n\t\treturn this.http.get<ApiResult<boolean>>(this.customerUrlShopString.getCheckFollowShop(request));\r\n\t}\r\n\tupdateFollow(request: RequestBase): Observable<ApiResult<ShopUpdateFollowResponse>> {\r\n\t\trequest.languageCode = this.languageCode;\r\n\t\treturn this.http.post<ApiResult<ShopUpdateFollowResponse>>(\r\n\t\t\tthis.customerUrlShopString.postUpdateFollow(),\r\n\t\t\trequest\r\n\t\t);\r\n\t}\r\n}\r\n","import {HttpParams} from '@angular/common/http';\r\nimport {Injectable} from '@angular/core';\r\nimport {PagingRequestBase} from 'src/app/core/models/common/page/pagingrequest/PagingRequestBase';\r\nimport {RequestBase} from 'src/app/core/models/common/request/RequestBase';\r\nimport {CustomerUrlBase} from './../customer-url-base';\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class CustomerUrlShop extends CustomerUrlBase {\r\n\tgetShop(request: PagingRequestBase): string {\r\n\t\t//console.log('trong url');\r\n\t\tlet params = new HttpParams()\r\n\t\t\t.set('pageindex', request.pageIndex == undefined ? '1' : request.pageIndex.toString())\r\n\t\t\t.set('pagesize', request.pageSize == undefined ? '10' : request.pageSize.toString())\r\n\t\t\t.set('sortby', request.sortby == undefined ? '' : request.sortby)\r\n\t\t\t.set('id', request.id == undefined ? '' : request.id.toString())\r\n\t\t\t.set('languageCode', request.languageCode == undefined ? '' : request.languageCode);\r\n\r\n\t\treturn this.customerUrl + `/Shop?` + params;\r\n\t}\r\n\tgetCheckFollowShop(request: RequestBase): string {\r\n\t\treturn this.customerUrl + `/shop/isfollow/${request.id}`;\r\n\t}\r\n\tpostUpdateFollow(): string {\r\n\t\treturn this.customerUrl + `/shop/update-follow`;\r\n\t}\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzaG9wLWRldGFpbC5jb21wb25lbnQubGVzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-shop',\n  templateUrl: './shop.component.html',\n  styleUrls: ['./shop.component.less']\n})\nexport class ShopComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzaG9wLmNvbXBvbmVudC5sZXNzIn0= */\";"]}