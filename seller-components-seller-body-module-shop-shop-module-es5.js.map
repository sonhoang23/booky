{"version":3,"sources":["webpack:///src/app/features/seller/components/seller-body/module/shop/shop-edit/shop-edit.component.html","webpack:///src/app/features/seller/components/seller-body/module/shop/shop-routing.module.ts","webpack:///src/app/core/services/seller/seller-shop/seller-shop.service.ts","webpack:///src/app/core/utils/URL/seller-url/seller-shop/seller-url-shop.ts","webpack:///src/app/features/seller/components/seller-body/module/shop/shop.module.ts","webpack:///src/app/features/seller/components/seller-body/module/shop/shop-edit/shop-edit.component.less","webpack:///src/app/features/seller/components/seller-body/module/shop/shop-edit/shop-edit.component.ts"],"names":["routes","path","component","ShopRoutingModule","imports","forChild","exports","SellerShopService","http","sellerUrlShop","get","sellerGetShopInfor","request","put","sellerPutShopInfor","newProductImage","post","sellerPostAvatarImagePreviewAPI","providedIn","SellerUrlShop","sellerUrl","ShopModule","declarations","ShopEditComponent","formBuilder","destroy$","appErrorHandler","sellerShopService","notificationService","spinnerService","isLoading","submitted","returnUrl","host","apiUrl","modified","beforeUpload","file","formData","FormData","append","name","postAvatarImagePreview","pipe","subscribe","result","console","log","resultObj","imagePath","thumbshandlePreview","isThumbshandlePreview","error","handleErrorWithNoti","isModalVisible","shopInforResponse","shopInforForm","group","value","required","minLength","pattern","getShopInfor","initFormDataFromStore","checkFormValueChange","subjectSubmitLoadingHaveData$","next","isSubmitted","isSuccessed","message","showErrorNotification","setTimeout","setValue","shopName","valueChanges","submitForm","val","profileUpdate","putShopInfor","res","showSuccessNotification","handleError","removeImageFile","selector","template"],"mappings":"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","file":"seller-components-seller-body-module-shop-shop-module-es5.js","sourcesContent":["export default \"<nz-spin [nzSpinning]=\\\"submitted\\\">\\n\\t<nz-page-header style=\\\"padding-left: 0; padding-right: 0;\\\">\\n\\t\\t<nz-breadcrumb nz-page-header-breadcrumb [nzAutoGenerate]=\\\"true\\\"></nz-breadcrumb>\\n\\t\\t<!--title-->\\n\\t\\t<nz-page-header-title> </nz-page-header-title>\\n\\t\\t<!--subtitle-->\\n\\t\\t<nz-page-header-subtitle></nz-page-header-subtitle>\\n\\t\\t<!--content-->\\n\\t\\t<nz-page-header-content>\\n\\t\\t\\t<div class=\\\"grid wide\\\">\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"col l-12\\\">\\n\\t\\t\\t\\t\\t\\t<form nz-form [formGroup]=\\\"shopInforForm\\\" (ngSubmit)=\\\"submitForm()\\\" #registerForm=\\\"ngForm\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col l-8\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<nz-card [nzBordered]=\\\"true\\\" nzTitle=\\\"Thông Tin Cửa Hàng\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<nz-form-item>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<nz-form-label [nzSm]=\\\"6\\\" [nzXs]=\\\"24\\\" nzRequired nzFor=\\\"name\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t>Tên Cửa Hàng</nz-form-label\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<nz-form-control>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<nz-input-group nzPrefixIcon=\\\"user\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"text\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnz-input\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tformControlName=\\\"name\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tplaceholder=\\\"Tên Cửa Hàng\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</nz-input-group>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</nz-form-control>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</nz-form-item>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</nz-card>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col l-4\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col l-12\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<nz-card [nzBordered]=\\\"true\\\" nzTitle=\\\"Ảnh Đại Diện\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row col \\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<nz-upload\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[nzBeforeUpload]=\\\"beforeUpload\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[nzShowButton]=\\\"thumbshandlePreview.length<1\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" nz-button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i nz-icon nzType=\\\"upload\\\"></i>Tải Lên\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</nz-upload>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnzPopoverPlacement=\\\"top\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnz-button\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnz-popover\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"button\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnzPopoverTitle=\\\"Trợ Giúp\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnzPopoverContent=\\\"Ảnh Đại Diện Của Bạn, Chỉ Tải Một Ảnh Duy Nhất\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i nz-icon nzType=\\\"question\\\" nzTheme=\\\"outline\\\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row col\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div style=\\\"position: relative;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<img\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tsrc=\\\"{{host}}/{{thumbshandlePreview}}\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\talt=\\\"\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"max-width:100px ;\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"example-box\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tcdkDrag\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"position: absolute; top:0; right: 0;\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnz-button\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnzType=\\\"primary\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnzSize=\\\"small\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnzShape=\\\"circle\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnzDanger\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"button\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnz-popconfirm\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnzPopconfirmTitle=\\\"Bạn Có Chắc Muốn Xóa Ảnh?\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(nzOnConfirm)=\\\"confirmDeleteImage()\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(nzOnCancel)=\\\"cancelDeleteImage()\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnzPopconfirmPlacement=\\\"right\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i nz-icon nzType=\\\"close\\\" nzTheme=\\\"outline\\\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</nz-card>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"box-sizing: border-box;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col l-12\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<img\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"max-width:100%;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tmax-height:100%;\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnz-image\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnzSrc=\\\"../../../../../assets/img/registerpage.png\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<button\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnz-button\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnz-popconfirm\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnzPopconfirmTitle=\\\"Bạn Có Chắc Muốn Cập Nhật Thông Tin Này?\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(nzOnConfirm)=\\\"confirmUpdate()\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(nzOnCancel)=\\\"confirmDeleteImage()\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tnzPopconfirmPlacement=\\\"bottomRight\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"button\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[disabled]=\\\"!registerForm.form.valid ||!modified \\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[nzType]=\\\"'primary'\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tCập Nhật Thông Tin\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</form>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</nz-page-header-content>\\n\\t</nz-page-header>\\n</nz-spin>\\n<!-- [disabled]=\\\"!registerForm.form.valid\\\" -->\\n\";","import {ShopEditComponent} from './shop-edit/shop-edit.component';\nimport {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\n\nconst routes: Routes = [{path: 'edit', component: ShopEditComponent}];\n\n@NgModule({\n\timports: [RouterModule.forChild(routes)],\n\texports: [RouterModule]\n})\nexport class ShopRoutingModule {}\n","import {Observable} from 'rxjs';\r\nimport {ApiResult} from './../../../models/common/ApiResult';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {Injectable} from '@angular/core';\r\nimport {SellerUrlShop} from 'src/app/core/utils/URL/seller-url/seller-shop/seller-url-shop';\r\nimport {ShopInforResponse} from 'src/app/core/models/seller/shop/response/ShopInforResponse';\r\nimport {ShopInforUpdateResquest} from 'src/app/core/models/seller/shop/request/ShopInforUpdateRequest';\r\nimport { ImageUploadPreviewResponse } from 'src/app/core/models/seller/shop/response/ImageUploadPreviewResponse';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class SellerShopService {\r\n\tconstructor(private http: HttpClient, private sellerUrlShop: SellerUrlShop) {}\r\n\t\r\n\tgetShopInfor(): Observable<ApiResult<ShopInforResponse>> {\r\n\t\treturn this.http.get<ApiResult<ShopInforResponse>>(this.sellerUrlShop.sellerGetShopInfor());\r\n\t}\r\n\tputShopInfor(request: ShopInforUpdateResquest): Observable<ApiResult<boolean>> {\r\n\t\treturn this.http.put<ApiResult<boolean>>(this.sellerUrlShop.sellerPutShopInfor(), request);\r\n\t}\r\n  postAvatarImagePreview(newProductImage: FormData):Observable<ApiResult<ImageUploadPreviewResponse>> {\r\n\t\treturn this.http.post<ApiResult<ImageUploadPreviewResponse>>(\r\n\t\t\tthis.sellerUrlShop.sellerPostAvatarImagePreviewAPI(),\r\n\t\t\tnewProductImage\r\n\t\t);\r\n\t}\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {SellerUrlBase} from './../seller-url-base';\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class SellerUrlShop extends SellerUrlBase {\r\n\tsellerGetShopInfor(): string {\r\n\t\treturn this.sellerUrl + '/seller/shop';\r\n\t}\r\n\tsellerPutShopInfor(): string {\r\n\t\treturn this.sellerUrl +  '/seller/shop';\r\n\t}\r\n\tsellerPostAvatarImagePreviewAPI(): string {\r\n\t\treturn this.sellerUrl + '/seller/shop/image-preview';\r\n\t}\r\n}\r\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\nimport {ShopRoutingModule} from './shop-routing.module';\nimport {ShopEditComponent} from './shop-edit/shop-edit.component';\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { FormsModule, MaterialModule, NgZorroAntdModule, ReactiveFormsModule } from 'src/app/core/module/core.module';\n\n@NgModule({\n\tdeclarations: [ShopEditComponent],\n\timports: [\n\t\tCommonModule,\n\t\tShopRoutingModule,\n\t\tFormsModule,\n\t\tReactiveFormsModule,\n\t\tMaterialModule,\n\t\tNgZorroAntdModule,\n\t\tTranslateModule,\n\t\tInfiniteScrollModule\n\t]\n})\nexport class ShopModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzaG9wLWVkaXQuY29tcG9uZW50Lmxlc3MifQ== */\";","import {formatDate} from '@angular/common';\r\nimport {Component, OnInit} from '@angular/core';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {takeUntil} from 'rxjs/internal/operators/takeUntil';\r\nimport {AppErrorHandler} from 'src/app/core/error-handler/app-error-handler.service';\r\nimport {ShopInforUpdateResquest} from 'src/app/core/models/seller/shop/request/ShopInforUpdateRequest';\r\nimport {ShopInforResponse} from 'src/app/core/models/seller/shop/response/ShopInforResponse';\r\nimport {NotificationService} from 'src/app/core/notification/notifications/customer/notification.service';\r\nimport {DestroyService} from 'src/app/core/services/comon-services/destroy-service/destroy.service';\r\nimport {SpinnerService} from 'src/app/core/services/comon-services/spinner/spinner.service';\r\nimport {SellerShopService} from 'src/app/core/services/seller/seller-shop/seller-shop.service';\r\nimport {environment} from 'src/environments/environment';\r\n\r\n@Component({\r\n\tselector: 'app-shop-edit',\r\n\ttemplateUrl: './shop-edit.component.html',\r\n\tstyleUrls: ['./shop-edit.component.less']\r\n})\r\nexport class ShopEditComponent implements OnInit {\r\n\tisLoading = false; //return true: something is loading and false if something is completed\r\n\tsubmitted = false; //return true if submitted\r\n\treturnUrl = '';\r\n\tshopInforResponse: ShopInforResponse; //the personal infor after taking from store\r\n\tshopInforForm: FormGroup; //form Group of information fields\r\n\thost: string = environment.apiUrl; //host of server\r\n\t/**is modified any personal infor in formGroup, return true: any fields changed, return false: fields is similar with init data */\r\n\tmodified = false;\r\n\tthumbshandlePreview: string; //url string of avatar image after uploading to server\r\n\tisThumbshandlePreview: boolean; //is url avatar image string null? return false if null => can not submit and true if not null\r\n\tisModalVisible: boolean;\r\n\tconstructor(\r\n\t\tprivate formBuilder: FormBuilder,\r\n\t\tprivate destroy$: DestroyService,\r\n\t\tprivate appErrorHandler: AppErrorHandler,\r\n\t\tprivate sellerShopService: SellerShopService,\r\n\t\tprivate notificationService: NotificationService,\r\n\t\tprivate spinnerService: SpinnerService\r\n\t) {\r\n\t\tthis.isModalVisible = false;\r\n\t\tthis.thumbshandlePreview = '';\r\n\t\tthis.shopInforResponse = {} as ShopInforResponse;\r\n\t\tthis.isThumbshandlePreview = false;\r\n\t\t//init form\r\n\t\tthis.shopInforForm = this.formBuilder.group({\r\n\t\t\tname: [{value: ''}, [Validators.required, Validators.minLength(3), Validators.pattern]]\r\n\t\t});\r\n\t}\r\n\tngOnInit(): void {\r\n\t\tthis.getShopInfor(); //get personal infor from store\r\n\t\tthis.initFormDataFromStore(); //attach data from store into formGroup\r\n\t\tthis.checkFormValueChange(); //check any fields changed\r\n\t}\r\n\tgetShopInfor() {\r\n\t\tthis.spinnerService.subjectSubmitLoadingHaveData$.next({isSubmitted: true});\r\n\t\tthis.sellerShopService\r\n\t\t\t.getShopInfor()\r\n\t\t\t.pipe(takeUntil(this.destroy$))\r\n\t\t\t.subscribe(\r\n\t\t\t\t(result) => {\r\n\t\t\t\t\tif (result) {\r\n\t\t\t\t\t\tconsole.log(result);\r\n\t\t\t\t\t\tif (result.isSuccessed) {\r\n\t\t\t\t\t\t\tif (result.resultObj) {\r\n\t\t\t\t\t\t\t\tthis.shopInforResponse = result.resultObj;\r\n\t\t\t\t\t\t\t\tthis.thumbshandlePreview = result.resultObj.imagePath;\r\n\t\t\t\t\t\t\t\tconsole.log(result.resultObj.imagePath);\r\n\t\t\t\t\t\t\t\tconsole.log(this.thumbshandlePreview);\r\n\t\t\t\t\t\t\t\tthis.isLoading = false;\r\n\t\t\t\t\t\t\t\t//this.spinnerService.subjectSubmitLoadingHaveData$.next({isSubmitted: false});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (result.message) {\r\n\t\t\t\t\t\t\t\tthis.notificationService.showErrorNotification(result.message);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t(error) => {\r\n\t\t\t\t\tthis.isLoading = false;\r\n\t\t\t\t\tthis.appErrorHandler.handleErrorWithNoti(error);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t}\r\n\tinitFormDataFromStore() {\r\n\t\tthis.spinnerService.subjectSubmitLoadingHaveData$.next({isSubmitted: true});\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.shopInforForm.setValue({\r\n\t\t\t\tname: this.shopInforResponse.shopName != null ? this.shopInforResponse.shopName : ''\r\n\t\t\t});\r\n\r\n\t\t\tconsole.log(this.thumbshandlePreview);\r\n\t\t\tthis.spinnerService.subjectSubmitLoadingHaveData$.next({isSubmitted: false});\r\n\t\t}, 5000);\r\n\t}\r\n\tcheckFormValueChange() {\r\n\t\tthis.shopInforForm.valueChanges.subscribe((result) => {\r\n\t\t\tconsole.log('valueChanges');\r\n\t\t\tconsole.log(this.shopInforResponse.shopName);\r\n\t\t\tconsole.log(result.name);\r\n\t\t\tconsole.log(this.shopInforResponse.imagePath);\r\n\t\t\tconsole.log(this.thumbshandlePreview);\r\n\r\n\t\t\tif (\r\n\t\t\t\tresult.name === (this.shopInforResponse.shopName != null ? this.shopInforResponse.shopName : '') &&\r\n\t\t\t\tthis.thumbshandlePreview ===\r\n\t\t\t\t\t(this.shopInforResponse.imagePath != null ? this.shopInforResponse.imagePath : '')\r\n\t\t\t) {\r\n\t\t\t\tthis.modified = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis.modified = true;\r\n\t\t\t}\r\n\t\t\tconsole.log(this.modified);\r\n\t\t});\r\n\t}\r\n\tconfirmUpdate() {\r\n\t\tthis.submitForm();\r\n\t}\r\n\tsubmitForm(): void {\r\n\t\ttry {\r\n\t\t\tthis.spinnerService.subjectSubmitLoadingHaveData$.next({isSubmitted: true});\r\n\t\t\tconst val = this.shopInforForm.value;\r\n\t\t\tconst profileUpdate: ShopInforUpdateResquest = {\r\n\t\t\t\tshopName: val.name,\r\n\t\t\t\timagePath: this.thumbshandlePreview\r\n\t\t\t};\r\n\t\t\tthis.sellerShopService\r\n\t\t\t\t.putShopInfor(profileUpdate)\r\n\t\t\t\t.pipe(takeUntil(this.destroy$))\r\n\t\t\t\t.subscribe(\r\n\t\t\t\t\t(res) => {\r\n\t\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\t\tif (res.isSuccessed) {\r\n\t\t\t\t\t\t\t\tif (res.message) {\r\n\t\t\t\t\t\t\t\t\tthis.notificationService.showSuccessNotification(res.message);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (res.message) {\r\n\t\t\t\t\t\t\t\t\tthis.notificationService.showErrorNotification(res.message);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.spinnerService.subjectSubmitLoadingHaveData$.next({isSubmitted: false});\r\n\t\t\t\t\t},\r\n\t\t\t\t\t(error) => {\r\n\t\t\t\t\t\tthis.appErrorHandler.handleErrorWithNoti(error);\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t} catch (error) {\r\n\t\t\tthis.appErrorHandler.handleError(error);\r\n\t\t}\r\n\t}\r\n\r\n\tremoveImageFile() {\r\n\t\tthis.thumbshandlePreview = '';\r\n\t\t// if (this.shopInforResponse.imagePath) {\r\n\t\t// \tif (\r\n\t\t// \t\tthis.thumbshandlePreview ===\r\n\t\t// \t\t(this.shopInforResponse.imagePath != null ? this.shopInforResponse.imagePath : '')\r\n\t\t// \t) {\r\n\t\t// \t\t//this.modified = false;\r\n\t\t// \t} else {\r\n\t\t// \t\t//this.modified = true;\r\n\t\t// \t}\r\n\t\t// \t//this.isThumbshandlePreview = false;\r\n\t\t// } else {\r\n\t\t// }\r\n\t\tthis.modified = false;\r\n\t\tthis.checkFormValueChange();\r\n\t}\r\n\tcancelDeleteImage(): void {\r\n\t\tthis.isModalVisible = false;\r\n\t\treturn;\r\n\t}\r\n\r\n\tconfirmDeleteImage(): void {\r\n\t\tthis.removeImageFile();\r\n\t\tthis.checkFormValueChange();\r\n\t\tthis.notificationService.showSuccessNotification('Đã Xóa Thành Công');\r\n\t}\r\n\tbeforeUpload = (file: File): boolean => {\r\n\t\tconst formData: FormData = new FormData();\r\n\t\tformData.append('productImage', file, file.name);\r\n\t\tthis.sellerShopService\r\n\t\t\t.postAvatarImagePreview(formData)\r\n\t\t\t.pipe(takeUntil(this.destroy$))\r\n\t\t\t.subscribe(\r\n\t\t\t\t(result) => {\r\n\t\t\t\t\tconsole.log(result);\r\n\r\n\t\t\t\t\tif (result.resultObj != null) {\r\n\t\t\t\t\t\tif (result.resultObj.imagePath != null) {\r\n\t\t\t\t\t\t\tthis.thumbshandlePreview = result.resultObj.imagePath;\r\n\t\t\t\t\t\t\tthis.isThumbshandlePreview = true;\r\n\t\t\t\t\t\t\tthis.modified = true;\r\n\t\t\t\t\t\t\t//this.checkFormValueChange();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log(this.thumbshandlePreview);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t(error) => {\r\n\t\t\t\t\tthis.appErrorHandler.handleErrorWithNoti(error);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\treturn false;\r\n\t};\r\n}\r\n"]}