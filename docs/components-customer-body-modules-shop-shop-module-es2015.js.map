{"version":3,"sources":["./src/app/features/customer/components/customer-body/modules/shop/component/shop-detail/shop-detail.component.ts","./src/app/features/customer/components/customer-body/modules/shop/component/shop-detail/shop-detail.component.html","./src/app/features/customer/components/customer-body/modules/shop/component/shop/shop.component.html","./src/app/features/customer/components/customer-body/modules/shop/shop-routing.module.ts","./src/app/features/customer/components/customer-body/modules/shop/shop.module.ts","./src/app/core/services/customer/shop/shop.service.ts","./src/app/core/utils/URL/customer-url/customer-shop/customer-url-shop.ts","./src/app/features/customer/components/customer-body/modules/shop/component/shop-detail/shop-detail.component.less","./src/app/features/customer/components/customer-body/modules/shop/component/shop/shop.component.ts","./src/app/features/customer/components/customer-body/modules/shop/component/shop/shop.component.less"],"names":[],"mappings":"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","file":"components-customer-body-modules-shop-shop-module-es2015.js","sourcesContent":["import {SpinnerService} from 'src/app/core/services/comon-services/spinner/spinner.service';\r\nimport {CustomerAppState} from 'src/app/core/store/customer/customer-app.state';\r\nimport {concatMap, takeUntil} from 'rxjs/operators';\r\nimport {DestroyService} from '../../../../../../../../core/services/comon-services/destroy-service/destroy.service';\r\nimport {Component, OnInit} from '@angular/core';\r\nimport {ShopService} from 'src/app/core/services/customer/shop/shop.service';\r\nimport {ShopResponse} from 'src/app/core/models/customer/shop/response/shop-response.viewmodel';\r\nimport {environment} from 'src/environments/environment';\r\nimport {ApiResult} from 'src/app/core/models/common/ApiResult';\r\nimport {PagedResult} from 'src/app/core/models/common/page/PagedResult';\r\nimport {ProductShowHomePageRespond} from 'src/app/core/models/product/respond/ProductShowHomePageRespond';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {select, Store} from '@ngrx/store';\r\nimport {customerIsAuthenticatedLoginStateSelector} from 'src/app/core/store/customer/login/customer-login.selector';\r\nimport {TranslateService} from '@ngx-translate/core';\r\nimport {NotificationService} from 'src/app/core/notification/notifications/customer/notification.service';\r\nimport {SortProductService} from 'src/app/core/services/comon-services/sort-product/sort-product.service';\r\nimport {AppErrorHandler} from 'src/app/core/error-handler/app-error-handler.service';\r\n//3 trạng thái: chưa login => hiển thị nút xanh, cho phép follow => click => login\r\n// đã login => nếu trả về đã follow => hiển thị nút xám và cho unfollow\r\n// đã login => nếu trả về chưa follow => hiển thị nút xanh, cho phép follow\r\n@Component({\r\n\tselector: 'app-shop-detail',\r\n\ttemplateUrl: './shop-detail.component.html',\r\n\tstyleUrls: ['./shop-detail.component.less']\r\n})\r\nexport class ShopDetailComponent implements OnInit {\r\n\tisLoading = true; //skelton\r\n\tisfollower: boolean; //check user have followed to display button\r\n\tshopId: number; //shopId that user want to take infor\r\n\tshopResponse: ShopResponse;\r\n\thost: string = environment.apiUrl;\r\n\tupdateFollowShopLoading: boolean = false;\r\n\tapiResult: ApiResult<PagedResult<ProductShowHomePageRespond>>;\r\n\tconstructor(\r\n\t\tprivate destroy$: DestroyService,\r\n\t\tprivate shopService: ShopService,\r\n\t\tpublic router: Router,\r\n\t\tprivate route: ActivatedRoute,\r\n\t\tprivate store: Store<CustomerAppState>,\r\n\t\tprivate appTranslateService: TranslateService,\r\n\t\tprivate notificationService: NotificationService,\r\n\t\tprivate sortProductService: SortProductService,\r\n\t\tprivate appErrorHandler: AppErrorHandler,\r\n\t\tprivate spinner: SpinnerService,\r\n\t\r\n\t) {\r\n\t\tthis.shopResponse = {} as ShopResponse;\r\n\t\tthis.isfollower = false;\r\n\t\tthis.apiResult = {} as ApiResult<PagedResult<ProductShowHomePageRespond>>;\r\n\t}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.isLoading = true; //skelton\r\n\t\tthis.route.paramMap.subscribe((param) => {\r\n\t\t\tif (param.get('shopId')) {\r\n\t\t\t\tthis.shopId = +param.get('shopId');\r\n\t\t\t\tthis.getShop();\r\n\t\t\t\tthis.checkFollowShop(this.shopId);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tchangeFollow() {\r\n\t\tthis.updateFollowShopLoading = true;\r\n\t\tthis.store.pipe(takeUntil(this.destroy$), select(customerIsAuthenticatedLoginStateSelector)).subscribe(\r\n\t\t\t(result) => {\r\n\t\t\t\tif (result) {\r\n\t\t\t\t\tthis.shopService.updateFollow({id: this.shopId}).subscribe(\r\n\t\t\t\t\t\t(resultApi) => {\r\n\t\t\t\t\t\t\tif (resultApi.isSuccessed) {\r\n\t\t\t\t\t\t\t\t//console.log(result);\r\n\t\t\t\t\t\t\t\tif (resultApi.message) {\r\n\t\t\t\t\t\t\t\t\tthis.notificationService.showSuccessNotification(\r\n\t\t\t\t\t\t\t\t\t\tthis.appTranslateService.instant(resultApi.message)\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (resultApi.resultObj) {\r\n\t\t\t\t\t\t\t\t\tthis.isfollower = resultApi.resultObj.status;\r\n\t\t\t\t\t\t\t\t\tthis.shopResponse.follower = resultApi.resultObj.followerCount;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (resultApi.message) {\r\n\t\t\t\t\t\t\t\t\tthis.notificationService.showErrorNotification(\r\n\t\t\t\t\t\t\t\t\t\tthis.appTranslateService.instant(resultApi.message)\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.updateFollowShopLoading = false;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t(error) => {\r\n\t\t\t\t\t\t\tthis.appErrorHandler.handleErrorWithNoti(error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.router.navigate(['/login'], {queryParams: {returnUrl: this.router.url}});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t(error) => {\r\n\t\t\t\tthis.appErrorHandler.handleErrorWithNoti(error);\r\n\t\t\t},\r\n\t\t\t() => {}\r\n\t\t);\r\n\t\t//this.isfollower = true;\r\n\t}\r\n\tcheckFollowShop(shopId: number) {\r\n\t\tthis.shopService.checkFollowShop({id: shopId}).subscribe(\r\n\t\t\t(result) => {\r\n\t\t\t\tif (result.resultObj != null) {\r\n\t\t\t\t\tthis.isfollower = result.resultObj;\r\n\t\t\t\t\tconsole.log(result.resultObj);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.isfollower = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t(error) => {\r\n\t\t\t\tthis.appErrorHandler.handleErrorWithNoti(error);\r\n\t\t\t\tthis.isfollower = false;\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tgetShop() {\r\n\t\tthis.sortProductService\r\n\t\t\t.getQuery(this.route)\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this.destroy$),\r\n\t\t\t\tconcatMap((value) => {\r\n\t\t\t\t\tthis.isLoading = true;\r\n\t\t\t\t\treturn this.shopService.getShop({\r\n\t\t\t\t\t\tpageIndex: value.page == undefined ? 1 : value.page,\r\n\t\t\t\t\t\tpageSize: 10,\r\n\t\t\t\t\t\tsortby: value.sortBy,\r\n\t\t\t\t\t\torder: value.order,\r\n\t\t\t\t\t\tid: this.shopId\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\t.subscribe(\r\n\t\t\t\t(result) => {\r\n\t\t\t\t\tconsole.log(result);\r\n\t\t\t\t\tif (result.isSuccessed) {\r\n\t\t\t\t\t\tif (result.resultObj) {\r\n\t\t\t\t\t\t\tthis.apiResult = {\r\n\t\t\t\t\t\t\t\tstatusCode: result.statusCode,\r\n\t\t\t\t\t\t\t\tmessage: result.message,\r\n\t\t\t\t\t\t\t\tisSuccessed: result.isSuccessed,\r\n\t\t\t\t\t\t\t\tresultObj: result.resultObj.pagedResult\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis.shopResponse = result.resultObj;\r\n\t\t\t\t\t\t\tthis.isLoading = false;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.spinner.subjectSubmitLoadingHaveData$.next({isSubmitted: false});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (result.message) {\r\n\t\t\t\t\t\t\tthis.notificationService.showErrorNotification(result.message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.spinner.subjectSubmitLoadingHaveData$.next({isSubmitted: false});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t(error) => {\r\n\t\t\t\t\tthis.appErrorHandler.handleErrorWithNoti(error);\r\n\t\t\t\t\tthis.isfollower = false;\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t}\r\n}\r\n","export default \"<nz-skeleton *ngIf=\\\"isLoading; else completedLoading\\\" [nzLoading]=\\\"isLoading\\\" [nzActive]=\\\"true\\\"></nz-skeleton>\\n<ng-template #completedLoading>\\n\\t<nz-card nzTitle=\\\"Gian Hàng\\\">\\n\\t\\t<div class=\\\"grid wide\\\">\\n\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t<div class=\\\"col l-4\\\">\\n\\t\\t\\t\\t\\t<nz-card>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col l-4\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<nz-avatar\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tnzSrc=\\\"{{host}}/{{shopResponse.avatarImagePath}}\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t[nzSize]=\\\"96\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tnzIcon=\\\"user\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t></nz-avatar>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col l-8\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 nz-typography>{{shopResponse.shopName}}</h3>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"isfollower; else elseBlock\\\" class=\\\"row\\\" style=\\\"margin-top: 25px;\\\">\\n\\t\\t\\t\\t\\t\\t\\t<button [nzLoading]=\\\"updateFollowShopLoading\\\" (click)=\\\"changeFollow()\\\" nz-button nzType=\\\"default\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i nz-icon nzType=\\\"check\\\" nzTheme=\\\"outline\\\"></i>Đã Theo dõi\\n\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<ng-template #elseBlock\\n\\t\\t\\t\\t\\t\\t\\t><div class=\\\"row\\\" style=\\\"margin-top: 25px;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<button [nzLoading]=\\\"updateFollowShopLoading\\\" (click)=\\\"changeFollow()\\\" nz-button nzType=\\\"primary\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<i nz-icon nzType=\\\"plus\\\" nzTheme=\\\"outline\\\"></i>Theo dõi\\n\\t\\t\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t\\t</div></ng-template\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t</nz-card>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"col l-o-1 l-7\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-top: 25px;\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col l-6\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-bottom: 1.6rem;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col l-1\\\" style=\\\"font-size: 1.6rem;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<h4 nz-icon [nzTheme]=\\\"'twotone'\\\" nzType=\\\"shop\\\" nzTheme=\\\"outline\\\"></h4>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col l-11\\\" style=\\\"display: flex;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row no-gutters\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h5 nz-typography>Sản Phẩm: {{shopResponse.productCount}}</h5>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-bottom: 1.6rem;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col l-1\\\" style=\\\"font-size: 1.6rem;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<h4 nz-icon nzType=\\\"usergroup-add\\\" nzTheme=\\\"outline\\\"></h4>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col l-11\\\" style=\\\"display: flex;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row no-gutters\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h5 nz-typography>Người Theo Dõi: {{shopResponse.follower}}</h5>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col l-6\\\"></div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</nz-card>\\n\\t<app-customer-index [apiResult]=\\\"apiResult\\\"></app-customer-index>\\n</ng-template>\\n\";","export default \"<p>shop works!</p>\\náa\";","import {ShopDetailComponent} from './component/shop-detail/shop-detail.component';\n\nimport {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\n\nconst routes: Routes = [\n\t{\n\t\tpath: ':shopId',\n\t\tcomponent: ShopDetailComponent,\n\t\tdata: {\n\t\t\ttitle: 'Customer-app.body.shop.title',\n\t\t\tbreadcrumb: 'Shop'\n\t\t}\n\t}\n];\n// const routes: Routes = [\n// \t{\n// \t\tpath: '',\n// \t\tcomponent: ShopDetailComponent,\n// \t\tchildren: [{path: ':shopId', component: ShopDetailComponent}]\n// \t}\n// ];\n\n@NgModule({\n\timports: [RouterModule.forChild(routes)],\n\texports: [RouterModule]\n})\nexport class ShopRoutingModule {}\n","import {NgZorroAntdModule} from './../../../../../../core/utils/ng-zorro-antd/ng-zorro-antd.module';\nimport {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\nimport {ShopRoutingModule} from './shop-routing.module';\nimport {ShopComponent} from './component/shop/shop.component';\nimport {ShopDetailComponent} from './component/shop-detail/shop-detail.component';\nimport {CustomerIndexModule} from '../../components/customer-index/customer-index.module';\n\n@NgModule({\n\tdeclarations: [ShopComponent, ShopDetailComponent],\n\timports: [CommonModule, ShopRoutingModule, NgZorroAntdModule, CustomerIndexModule]\n})\nexport class ShopModule {}\n","import {Observable} from 'rxjs';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {Injectable} from '@angular/core';\r\nimport {PagingRequestBase} from 'src/app/core/models/common/page/pagingrequest/PagingRequestBase';\r\nimport {ApiResult} from 'src/app/core/models/common/ApiResult';\r\nimport {ShopWithProductsResponse} from 'src/app/core/models/customer/shop/response/ShopWithProductsResponse.viewmodel';\r\nimport {RequestBase} from 'src/app/core/models/common/request/RequestBase';\r\nimport {ShopUpdateFollowResponse} from 'src/app/core/models/customer/shop/response/ShopUpdateResponse.viewmodel';\r\nimport {CustomerUrlShop} from 'src/app/core/utils/URL/customer-url/customer-shop/customer-url-shop';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class ShopService {\r\n\tlanguageCode = 'vn';\r\n\tconstructor(private http: HttpClient, private customerUrlShopString: CustomerUrlShop) {}\r\n\r\n\tgetShop(request: PagingRequestBase): Observable<ApiResult<ShopWithProductsResponse>> {\r\n\t\tconsole.log(request);\r\n\t\trequest.languageCode = this.languageCode;\r\n\t\treturn this.http.get<ApiResult<ShopWithProductsResponse>>(this.customerUrlShopString.getShop(request));\r\n\t}\r\n\tcheckFollowShop(request: RequestBase): Observable<ApiResult<boolean>> {\r\n\t\trequest.languageCode = this.languageCode;\r\n\t\treturn this.http.get<ApiResult<boolean>>(this.customerUrlShopString.getCheckFollowShop(request));\r\n\t}\r\n\tupdateFollow(request: RequestBase): Observable<ApiResult<ShopUpdateFollowResponse>> {\r\n\t\trequest.languageCode = this.languageCode;\r\n\t\treturn this.http.post<ApiResult<ShopUpdateFollowResponse>>(\r\n\t\t\tthis.customerUrlShopString.postUpdateFollow(),\r\n\t\t\trequest\r\n\t\t);\r\n\t}\r\n}\r\n","import {HttpParams} from '@angular/common/http';\r\nimport {Injectable} from '@angular/core';\r\nimport {PagingRequestBase} from 'src/app/core/models/common/page/pagingrequest/PagingRequestBase';\r\nimport {RequestBase} from 'src/app/core/models/common/request/RequestBase';\r\nimport {CustomerUrlBase} from './../customer-url-base';\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class CustomerUrlShop extends CustomerUrlBase {\r\n\tgetShop(request: PagingRequestBase): string {\r\n\t\t//console.log('trong url');\r\n\t\tlet params = new HttpParams()\r\n\t\t\t.set('pageindex', request.pageIndex == undefined ? '1' : request.pageIndex.toString())\r\n\t\t\t.set('pagesize', request.pageSize == undefined ? '10' : request.pageSize.toString())\r\n\t\t\t.set('sortby', request.sortby == undefined ? '' : request.sortby)\r\n\t\t\t.set('id', request.id == undefined ? '' : request.id.toString())\r\n\t\t\t.set('languageCode', request.languageCode == undefined ? '' : request.languageCode);\r\n\r\n\t\treturn this.customerUrl + `/Shop?` + params;\r\n\t}\r\n\tgetCheckFollowShop(request: RequestBase): string {\r\n\t\treturn this.customerUrl + `/shop/isfollow/${request.id}`;\r\n\t}\r\n\tpostUpdateFollow(): string {\r\n\t\treturn this.customerUrl + `/shop/update-follow`;\r\n\t}\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzaG9wLWRldGFpbC5jb21wb25lbnQubGVzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-shop',\n  templateUrl: './shop.component.html',\n  styleUrls: ['./shop.component.less']\n})\nexport class ShopComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzaG9wLmNvbXBvbmVudC5sZXNzIn0= */\";"],"sourceRoot":"webpack:///"}